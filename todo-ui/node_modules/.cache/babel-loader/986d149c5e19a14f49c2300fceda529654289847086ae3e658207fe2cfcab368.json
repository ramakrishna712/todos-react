{"ast":null,"code":"import axios from\"axios\";import moment from\"moment\";import{useEffect,useState}from\"react\";import{useNavigate,useParams,Link}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export function ToDoDetails(){const[appointment,setAppointment]=useState(null);// Default to null\nconst[loading,setLoading]=useState(true);// Track loading state\nconst[error,setError]=useState(null);// Track error state\nlet params=useParams();let navigate=useNavigate();const apiUrl=process.env.REACT_APP_API_URL;useEffect(()=>{axios.get(`${apiUrl}/get-appointment/${params.id}`).then(response=>{setAppointment(response.data);// Assume response.data is an object\nsetLoading(false);// Data successfully loaded\n}).catch(err=>{console.error(\"Error fetching appointment:\",err);setError(\"Failed to load appointment details.\");setLoading(false);// Stop loading even on error\n});},[params.id,apiUrl]);function handleDeleteClick(){const flag=window.confirm(\"Are you sure you want to delete this appointment?\");if(flag){axios.delete(`${apiUrl}/delete-appointment/${params.id}`).then(()=>{alert(\"Appointment deleted successfully.\");navigate(`/user-dash`);}).catch(error=>{console.error(\"Error deleting appointment:\",error);alert(\"Failed to delete the appointment.\");});}}if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error});}if(!appointment){return/*#__PURE__*/_jsx(\"div\",{children:\"No appointment details found.\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid justify-content-centera align-content-center align-items-center d-flex flex-column\",style:{height:\"100vh\"},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 col-md-6 col-12 bg-light justify-content-center text-center  border boder-3 p-2  boder-light \",style:{height:\"60%\"},children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Appointment Details\"}),/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"dd\",{children:appointment.Title||\"N/A\"}),/*#__PURE__*/_jsx(\"dt\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"dd\",{children:appointment.Description||\"N/A\"}),/*#__PURE__*/_jsx(\"dt\",{children:\"Date\"}),/*#__PURE__*/_jsx(\"dd\",{children:appointment.Date?moment(appointment.Date).format(\"dddd DD MMM yyyy\"):\"N/A\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteClick,className:\"bi bi-trash-fill btn btn-danger text-center\",children:\"Delete\"}),/*#__PURE__*/_jsx(Link,{to:`/todo-edit/${appointment.AppointmentId}`,className:\"bi bi-pen-fill text-center btn btn-warning ms-2\",children:\"Edit\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/user-dash\",className:\"btn btn-secondary my-3 \",children:\"Back to Appointments\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"btn btn-dark mx-2 text-center \",children:\"Back to Home\"})]});}","map":{"version":3,"names":["axios","moment","useEffect","useState","useNavigate","useParams","Link","jsx","_jsx","jsxs","_jsxs","ToDoDetails","appointment","setAppointment","loading","setLoading","error","setError","params","navigate","apiUrl","process","env","REACT_APP_API_URL","get","id","then","response","data","catch","err","console","handleDeleteClick","flag","window","confirm","delete","alert","children","className","style","height","Title","Description","Date","format","onClick","to","AppointmentId"],"sources":["C:/Users/Rama Krishna/todos-react/todo-ui/src/components/todo-details.jsx"],"sourcesContent":["import axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\r\n\r\nexport function ToDoDetails() {\r\n    const [appointment, setAppointment] = useState(null); // Default to null\r\n    const [loading, setLoading] = useState(true); // Track loading state\r\n    const [error, setError] = useState(null); // Track error state\r\n    let params = useParams();\r\n    let navigate = useNavigate();\r\n    const apiUrl = process.env.REACT_APP_API_URL;\r\n\r\n    useEffect(() => {\r\n        axios\r\n            .get(`${apiUrl}/get-appointment/${params.id}`)\r\n            .then((response) => {\r\n                setAppointment(response.data); // Assume response.data is an object\r\n                setLoading(false); // Data successfully loaded\r\n            })\r\n            .catch((err) => {\r\n                console.error(\"Error fetching appointment:\", err);\r\n                setError(\"Failed to load appointment details.\");\r\n                setLoading(false); // Stop loading even on error\r\n            });\r\n    }, [params.id, apiUrl]);\r\n\r\n    function handleDeleteClick() {\r\n        const flag = window.confirm(\"Are you sure you want to delete this appointment?\");\r\n        if (flag) {\r\n            axios\r\n                .delete(`${apiUrl}/delete-appointment/${params.id}`)\r\n                .then(() => {\r\n                    alert(\"Appointment deleted successfully.\");\r\n                    navigate(`/user-dash`);\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error deleting appointment:\", error);\r\n                    alert(\"Failed to delete the appointment.\");\r\n                });\r\n        }\r\n    }\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div className=\"alert alert-danger\">{error}</div>;\r\n    }\r\n\r\n    if (!appointment) {\r\n        return <div>No appointment details found.</div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid justify-content-centera align-content-center align-items-center d-flex flex-column\" style={{height:\"100vh\"}} >\r\n           <div className=\"col-md-4 col-md-6 col-12 bg-light justify-content-center text-center  border boder-3 p-2  boder-light \"style={{height:\"60%\"}} >\r\n           <h3>Appointment Details</h3>\r\n            <dl>\r\n                <dt>Title</dt>\r\n                <dd>{appointment.Title || \"N/A\"}</dd>\r\n                <dt>Description</dt>\r\n                <dd>{appointment.Description || \"N/A\"}</dd>\r\n                <dt>Date</dt>\r\n                <dd>{appointment.Date ? moment(appointment.Date).format(\"dddd DD MMM yyyy\") : \"N/A\"}</dd>\r\n            </dl>\r\n\r\n            <div>\r\n                <button onClick={handleDeleteClick} className=\"bi bi-trash-fill btn btn-danger text-center\">\r\n                    Delete\r\n                </button>\r\n                <Link to={`/todo-edit/${appointment.AppointmentId}`} className=\"bi bi-pen-fill text-center btn btn-warning ms-2\">\r\n                    Edit\r\n                </Link>\r\n            </div>\r\n            <Link to=\"/user-dash\" className=\"btn btn-secondary my-3 \">\r\n                Back to Appointments\r\n            </Link>\r\n           </div>\r\n           <Link  to=\"/\" className=\"btn btn-dark mx-2 text-center \">\r\n                Back to Home\r\n            </Link>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}